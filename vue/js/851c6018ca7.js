"use strict";(self.webpackChunkwebpack_web=self.webpackChunkwebpack_web||[]).push([[851],{4909:(y,u,h)=>{h.d(u,{DD:()=>o});var d=h(5222),p=h(2923);const o={get isDragging(){var n=!1;return o._dragElements.forEach(r=>{r.dragStatus==="dragging"&&(n=!0)}),n},justDragged:!1,get node(){var n;return o._dragElements.forEach(r=>{n=r.node}),n},_dragElements:new Map,_drag(n){const r=[];o._dragElements.forEach((t,a)=>{const{node:l}=t,s=l.getStage();s.setPointersPositions(n),t.pointerId===void 0&&(t.pointerId=p.Z._getFirstPointerId(n));const _=s._changedPointerPositions.find(E=>E.id===t.pointerId);if(!!_){if(t.dragStatus!=="dragging"){var c=l.dragDistance(),v=Math.max(Math.abs(_.x-t.startPointerPos.x),Math.abs(_.y-t.startPointerPos.y));if(v<c||(l.startDrag({evt:n}),!l.isDragging()))return}l._setDragPosition(n,t),r.push(l)}}),r.forEach(t=>{t.fire("dragmove",{type:"dragmove",target:t,evt:n},!0)})},_endDragBefore(n){o._dragElements.forEach(r=>{const{node:t}=r,a=t.getStage();if(n&&a.setPointersPositions(n),!a._changedPointerPositions.find(_=>_.id===r.pointerId))return;(r.dragStatus==="dragging"||r.dragStatus==="stopped")&&(o.justDragged=!0,d.So._mouseListenClick=!1,d.So._touchListenClick=!1,d.So._pointerListenClick=!1,r.dragStatus="stopped");const s=r.node.getLayer()||r.node instanceof d.So.Stage&&r.node;s&&s.batchDraw()})},_endDragAfter(n){o._dragElements.forEach((r,t)=>{r.dragStatus==="stopped"&&r.node.fire("dragend",{type:"dragend",target:r.node,evt:n},!0),r.dragStatus!=="dragging"&&o._dragElements.delete(t)})}};d.So.isBrowser&&(window.addEventListener("mouseup",o._endDragBefore,!0),window.addEventListener("touchend",o._endDragBefore,!0),window.addEventListener("mousemove",o._drag),window.addEventListener("touchmove",o._drag),window.addEventListener("mouseup",o._endDragAfter,!1),window.addEventListener("touchend",o._endDragAfter,!1))},3994:(y,u,h)=>{h.d(u,{F:()=>r});var d=h(2923),p=h(2407),o="get",n="set";const r={addGetterSetter(t,a,l,s,_){r.addGetter(t,a,l),r.addSetter(t,a,s,_),r.addOverloadedGetterSetter(t,a)},addGetter(t,a,l){var s=o+d.Z._capitalize(a);t.prototype[s]=t.prototype[s]||function(){var _=this.attrs[a];return _===void 0?l:_}},addSetter(t,a,l,s){var _=n+d.Z._capitalize(a);t.prototype[_]||r.overWriteSetter(t,a,l,s)},overWriteSetter(t,a,l,s){var _=n+d.Z._capitalize(a);t.prototype[_]=function(c){return l&&c!==void 0&&c!==null&&(c=l.call(this,c,a)),this._setAttr(a,c),s&&s.call(this),this}},addComponentsGetterSetter(t,a,l,s,_){var c=l.length,v=d.Z._capitalize,E=o+v(a),D=n+v(a),w,e;t.prototype[E]=function(){var g={};for(w=0;w<c;w++)e=l[w],g[e]=this.getAttr(a+v(e));return g};var i=(0,p.uZ)(l);t.prototype[D]=function(g){var f=this.attrs[a],C;s&&(g=s.call(this,g)),i&&i.call(this,g,a);for(C in g)!g.hasOwnProperty(C)||this._setAttr(a+v(C),g[C]);return this._fireChangeEvent(a,f,g),_&&_.call(this),this},r.addOverloadedGetterSetter(t,a)},addOverloadedGetterSetter(t,a){var l=d.Z._capitalize(a),s=n+l,_=o+l;t.prototype[a]=function(){return arguments.length?(this[s](arguments[0]),this):this[_]()}},addDeprecatedGetterSetter(t,a,l,s){d.Z.error("Adding deprecated "+a);var _=o+d.Z._capitalize(a),c=a+" property is deprecated and will be removed soon. Look at Konva change log for more information.";t.prototype[_]=function(){d.Z.error(c);var v=this.attrs[a];return v===void 0?l:v},r.addSetter(t,a,s,function(){d.Z.error(c)}),r.addOverloadedGetterSetter(t,a)},backCompat(t,a){d.Z.each(a,function(l,s){var _=t.prototype[s],c=o+d.Z._capitalize(l),v=n+d.Z._capitalize(l);function E(){_.apply(this,arguments),d.Z.error('"'+l+'" method is deprecated and will be removed soon. Use ""'+s+'" instead.')}t.prototype[l]=E,t.prototype[c]=E,t.prototype[v]=E})},afterSetFilter(){this._filterUpToDate=!1}}},6506:(y,u,h)=>{h.d(u,{N:()=>n});var d=h(2923),p=h(6413),o=h(5222);class n extends p.m{constructor(t){super(t),this.listening(!1),d.Z.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}n.prototype.nodeType="FastLayer",(0,o.DA)(n)},5222:(y,u,h)=>{h.d(u,{DA:()=>r,So:()=>n,zA:()=>o});var d=Math.PI/180;function p(){return typeof window!="undefined"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}const o=typeof global!="undefined"?global:typeof window!="undefined"?window:typeof WorkerGlobalScope!="undefined"?self:{},n={_global:o,version:"8.3.10",isBrowser:p(),isUnminified:/param/.test(function(t){}.toString()),dblClickWindow:400,getAngle(t){return n.angleDeg?t*d:t},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,pixelRatio:typeof window!="undefined"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return n.DD.isDragging},isDragReady(){return!!n.DD.node},document:o.document,_injectGlobal(t){o.Konva=t}},r=t=>{n[t.prototype.getClassName()]=t};n._injectGlobal(n)},8146:(y,u,h)=>{h.d(u,{Z:()=>n});var d=h(2923),p=h(555),o=h(5222);class n extends p.W{_validateAdd(t){var a=t.getType();a!=="Group"&&a!=="Shape"&&d.Z.throw("You may only add groups and shapes to groups.")}}n.prototype.nodeType="Group",(0,o.DA)(n)},6413:(y,u,h)=>{h.d(u,{m:()=>D});var d=h(2923),p=h(555),o=h(1384),n=h(3994),r=h(2715),t=h(2407),a=h(8619),l=h(5222),s="#",_="beforeDraw",c="draw",v=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],E=v.length;class D extends p.W{constructor(e){super(e),this.canvas=new r.RF,this.hitCanvas=new r.hh({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(e){return this.getContext().clear(e),this.getHitCanvas().getContext().clear(e),this}setZIndex(e){super.setZIndex(e);var i=this.getStage();return i&&i.content&&(i.content.removeChild(this.getNativeCanvasElement()),e<i.children.length-1?i.content.insertBefore(this.getNativeCanvasElement(),i.children[e+1].getCanvas()._canvas):i.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){o.N.prototype.moveToTop.call(this);var e=this.getStage();return e&&e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){var e=o.N.prototype.moveUp.call(this);if(!e)return!1;var i=this.getStage();return!i||!i.content?!1:(i.content.removeChild(this.getNativeCanvasElement()),this.index<i.children.length-1?i.content.insertBefore(this.getNativeCanvasElement(),i.children[this.index+1].getCanvas()._canvas):i.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(o.N.prototype.moveDown.call(this)){var e=this.getStage();if(e){var i=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),i[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(o.N.prototype.moveToBottom.call(this)){var e=this.getStage();if(e){var i=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),i[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){var e=this.getNativeCanvasElement();return o.N.prototype.remove.call(this),e&&e.parentNode&&d.Z._isInDocument(e)&&e.parentNode.removeChild(e),this}getStage(){return this.parent}setSize({width:e,height:i}){return this.canvas.setSize(e,i),this.hitCanvas.setSize(e,i),this._setSmoothEnabled(),this}_validateAdd(e){var i=e.getType();i!=="Group"&&i!=="Shape"&&d.Z.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(e){return e=e||{},e.width=e.width||this.getWidth(),e.height=e.height||this.getHeight(),e.x=e.x!==void 0?e.x:this.x(),e.y=e.y!==void 0?e.y:this.y(),o.N.prototype._toKonvaCanvas.call(this,e)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){d.Z.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){d.Z.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,d.Z.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(e){if(!this.isListening()||!this.isVisible())return null;for(var i=1,g=!1;;){for(let f=0;f<E;f++){const C=v[f],m=this._getIntersection({x:e.x+C.x*i,y:e.y+C.y*i}),S=m.shape;if(S)return S;if(g=!!m.antialiased,!m.antialiased)break}if(g)i+=1;else return null}}_getIntersection(e){const i=this.hitCanvas.pixelRatio,g=this.hitCanvas.context.getImageData(Math.round(e.x*i),Math.round(e.y*i),1,1).data,f=g[3];if(f===255){const C=d.Z._rgbToHex(g[0],g[1],g[2]),m=a.J[s+C];return m?{shape:m}:{antialiased:!0}}else if(f>0)return{antialiased:!0};return{}}drawScene(e,i){var g=this.getLayer(),f=e||g&&g.getCanvas();return this._fire(_,{node:this}),this.clearBeforeDraw()&&f.getContext().clear(),p.W.prototype.drawScene.call(this,f,i),this._fire(c,{node:this}),this}drawHit(e,i){var g=this.getLayer(),f=e||g&&g.hitCanvas;return g&&g.clearBeforeDraw()&&g.getHitCanvas().getContext().clear(),p.W.prototype.drawHit.call(this,f,i),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(e){d.Z.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(e)}getHitGraphEnabled(e){return d.Z.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!(!this.parent||!this.parent.content)){var e=this.parent,i=!!this.hitCanvas._canvas.parentNode;i?e.content.removeChild(this.hitCanvas._canvas):e.content.appendChild(this.hitCanvas._canvas)}}}D.prototype.nodeType="Layer",(0,l.DA)(D),n.F.addGetterSetter(D,"imageSmoothingEnabled",!0),n.F.addGetterSetter(D,"clearBeforeDraw",!0),n.F.addGetterSetter(D,"hitGraphEnabled",!0,(0,t.I0)())},6014:(y,u,h)=>{h.d(u,{I5:()=>a,Xg:()=>l,q0:()=>t,rl:()=>n,yM:()=>r});var d=h(5222);const p=new Map,o=d.So._global.PointerEvent!==void 0;function n(s){return p.get(s)}function r(s){return{evt:s,pointerId:s.pointerId}}function t(s,_){return p.get(s)===_}function a(s,_){l(s),_.getStage()&&(p.set(s,_),o&&_._fire("gotpointercapture",r(new PointerEvent("gotpointercapture"))))}function l(s,_){const c=p.get(s);if(!c)return;const v=c.getStage();v&&v.content,p.delete(s),o&&c._fire("lostpointercapture",r(new PointerEvent("lostpointercapture")))}}}]);

//# sourceMappingURL=851c6018ca7.js.map