"use strict";(self.webpackChunkwebpack_web=self.webpackChunkwebpack_web||[]).push([[179],{179:(H,K,T)=>{T.d(K,{y:()=>O});var U=T(3994),W=T(8619),G=T(5222);class O extends W.b{constructor(i){super(i),this.dataArray=[],this.pathLength=0,this.dataArray=O.parsePathData(this.data()),this.pathLength=0;for(var n=0;n<this.dataArray.length;++n)this.pathLength+=this.dataArray[n].pathLength;this.on("dataChange.konva",function(){this.dataArray=O.parsePathData(this.data()),this.pathLength=0;for(var f=0;f<this.dataArray.length;++f)this.pathLength+=this.dataArray[f].pathLength})}_sceneFunc(i){var n=this.dataArray;i.beginPath();for(var f=!1,r=0;r<n.length;r++){var u=n[r].command,t=n[r].points;switch(u){case"L":i.lineTo(t[0],t[1]);break;case"M":i.moveTo(t[0],t[1]);break;case"C":i.bezierCurveTo(t[0],t[1],t[2],t[3],t[4],t[5]);break;case"Q":i.quadraticCurveTo(t[0],t[1],t[2],t[3]);break;case"A":var s=t[0],e=t[1],a=t[2],v=t[3],l=t[4],c=t[5],g=t[6],h=t[7],M=a>v?a:v,o=a>v?1:a/v,Q=a>v?v/a:1;i.translate(s,e),i.rotate(g),i.scale(o,Q),i.arc(0,0,M,l,l+c,1-h),i.scale(1/o,1/Q),i.rotate(-g),i.translate(-s,-e);break;case"z":f=!0,i.closePath();break}}!f&&!this.hasFill()?i.strokeShape(this):i.fillStrokeShape(this)}getSelfRect(){var i=[];this.dataArray.forEach(function(a){if(a.command==="A"){var v=a.points[4],l=a.points[5],c=a.points[4]+l,g=Math.PI/180;if(Math.abs(v-c)<g&&(g=Math.abs(v-c)),l<0)for(let h=v-g;h>c;h-=g){const M=O.getPointOnEllipticalArc(a.points[0],a.points[1],a.points[2],a.points[3],h,0);i.push(M.x,M.y)}else for(let h=v+g;h<c;h+=g){const M=O.getPointOnEllipticalArc(a.points[0],a.points[1],a.points[2],a.points[3],h,0);i.push(M.x,M.y)}}else if(a.command==="C")for(let h=0;h<=1;h+=.01){const M=O.getPointOnCubicBezier(h,a.start.x,a.start.y,a.points[0],a.points[1],a.points[2],a.points[3],a.points[4],a.points[5]);i.push(M.x,M.y)}else i=i.concat(a.points)});for(var n=i[0],f=i[0],r=i[1],u=i[1],t,s,e=0;e<i.length/2;e++)t=i[e*2],s=i[e*2+1],isNaN(t)||(n=Math.min(n,t),f=Math.max(f,t)),isNaN(s)||(r=Math.min(r,s),u=Math.max(u,s));return{x:n,y:r,width:f-n,height:u-r}}getLength(){return this.pathLength}getPointAtLength(i){var n,f=0,r=this.dataArray.length;if(!r)return null;for(;f<r&&i>this.dataArray[f].pathLength;)i-=this.dataArray[f].pathLength,++f;if(f===r)return n=this.dataArray[f-1].points.slice(-2),{x:n[0],y:n[1]};if(i<.01)return n=this.dataArray[f].points.slice(0,2),{x:n[0],y:n[1]};var u=this.dataArray[f],t=u.points;switch(u.command){case"L":return O.getPointOnLine(i,u.start.x,u.start.y,t[0],t[1]);case"C":return O.getPointOnCubicBezier(i/u.pathLength,u.start.x,u.start.y,t[0],t[1],t[2],t[3],t[4],t[5]);case"Q":return O.getPointOnQuadraticBezier(i/u.pathLength,u.start.x,u.start.y,t[0],t[1],t[2],t[3]);case"A":var s=t[0],e=t[1],a=t[2],v=t[3],l=t[4],c=t[5],g=t[6];return l+=c*i/u.pathLength,O.getPointOnEllipticalArc(s,e,a,v,l,g)}return null}static getLineLength(i,n,f,r){return Math.sqrt((f-i)*(f-i)+(r-n)*(r-n))}static getPointOnLine(i,n,f,r,u,t,s){t===void 0&&(t=n),s===void 0&&(s=f);var e=(u-f)/(r-n+1e-8),a=Math.sqrt(i*i/(1+e*e));r<n&&(a*=-1);var v=e*a,l;if(r===n)l={x:t,y:s+v};else if((s-f)/(t-n+1e-8)===e)l={x:t+a,y:s+v};else{var c,g,h=this.getLineLength(n,f,r,u),M=(t-n)*(r-n)+(s-f)*(u-f);M=M/(h*h),c=n+M*(r-n),g=f+M*(u-f);var o=this.getLineLength(t,s,c,g),Q=Math.sqrt(i*i-o*o);a=Math.sqrt(Q*Q/(1+e*e)),r<n&&(a*=-1),v=e*a,l={x:c+a,y:g+v}}return l}static getPointOnCubicBezier(i,n,f,r,u,t,s,e,a){function v(o){return o*o*o}function l(o){return 3*o*o*(1-o)}function c(o){return 3*o*(1-o)*(1-o)}function g(o){return(1-o)*(1-o)*(1-o)}var h=e*v(i)+t*l(i)+r*c(i)+n*g(i),M=a*v(i)+s*l(i)+u*c(i)+f*g(i);return{x:h,y:M}}static getPointOnQuadraticBezier(i,n,f,r,u,t,s){function e(g){return g*g}function a(g){return 2*g*(1-g)}function v(g){return(1-g)*(1-g)}var l=t*e(i)+r*a(i)+n*v(i),c=s*e(i)+u*a(i)+f*v(i);return{x:l,y:c}}static getPointOnEllipticalArc(i,n,f,r,u,t){var s=Math.cos(t),e=Math.sin(t),a={x:f*Math.cos(u),y:r*Math.sin(u)};return{x:i+(a.x*s-a.y*e),y:n+(a.x*e+a.y*s)}}static parsePathData(i){if(!i)return[];var n=i,f=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];n=n.replace(new RegExp(" ","g"),",");for(var r=0;r<f.length;r++)n=n.replace(new RegExp(f[r],"g"),"|"+f[r]);var u=n.split("|"),t=[],s=[],e=0,a=0,v=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi,l;for(r=1;r<u.length;r++){var c=u[r],g=c.charAt(0);for(c=c.slice(1),s.length=0;l=v.exec(c);)s.push(l[0]);for(var h=[],M=0,o=s.length;M<o;M++){if(s[M]==="00"){h.push(0,0);continue}var Q=parseFloat(s[M]);isNaN(Q)?h.push(0):h.push(Q)}for(;h.length>0&&!isNaN(h[0]);){var b=null,L=[],w=e,_=a,A,E,z,B,k,C,D,I,S,q;switch(g){case"l":e+=h.shift(),a+=h.shift(),b="L",L.push(e,a);break;case"L":e=h.shift(),a=h.shift(),L.push(e,a);break;case"m":var F=h.shift(),R=h.shift();if(e+=F,a+=R,b="M",t.length>2&&t[t.length-1].command==="z"){for(var N=t.length-2;N>=0;N--)if(t[N].command==="M"){e=t[N].points[0]+F,a=t[N].points[1]+R;break}}L.push(e,a),g="l";break;case"M":e=h.shift(),a=h.shift(),b="M",L.push(e,a),g="L";break;case"h":e+=h.shift(),b="L",L.push(e,a);break;case"H":e=h.shift(),b="L",L.push(e,a);break;case"v":a+=h.shift(),b="L",L.push(e,a);break;case"V":a=h.shift(),b="L",L.push(e,a);break;case"C":L.push(h.shift(),h.shift(),h.shift(),h.shift()),e=h.shift(),a=h.shift(),L.push(e,a);break;case"c":L.push(e+h.shift(),a+h.shift(),e+h.shift(),a+h.shift()),e+=h.shift(),a+=h.shift(),b="C",L.push(e,a);break;case"S":E=e,z=a,A=t[t.length-1],A.command==="C"&&(E=e+(e-A.points[2]),z=a+(a-A.points[3])),L.push(E,z,h.shift(),h.shift()),e=h.shift(),a=h.shift(),b="C",L.push(e,a);break;case"s":E=e,z=a,A=t[t.length-1],A.command==="C"&&(E=e+(e-A.points[2]),z=a+(a-A.points[3])),L.push(E,z,e+h.shift(),a+h.shift()),e+=h.shift(),a+=h.shift(),b="C",L.push(e,a);break;case"Q":L.push(h.shift(),h.shift()),e=h.shift(),a=h.shift(),L.push(e,a);break;case"q":L.push(e+h.shift(),a+h.shift()),e+=h.shift(),a+=h.shift(),b="Q",L.push(e,a);break;case"T":E=e,z=a,A=t[t.length-1],A.command==="Q"&&(E=e+(e-A.points[0]),z=a+(a-A.points[1])),e=h.shift(),a=h.shift(),b="Q",L.push(E,z,e,a);break;case"t":E=e,z=a,A=t[t.length-1],A.command==="Q"&&(E=e+(e-A.points[0]),z=a+(a-A.points[1])),e+=h.shift(),a+=h.shift(),b="Q",L.push(E,z,e,a);break;case"A":B=h.shift(),k=h.shift(),C=h.shift(),D=h.shift(),I=h.shift(),S=e,q=a,e=h.shift(),a=h.shift(),b="A",L=this.convertEndpointToCenterParameterization(S,q,e,a,D,I,B,k,C);break;case"a":B=h.shift(),k=h.shift(),C=h.shift(),D=h.shift(),I=h.shift(),S=e,q=a,e+=h.shift(),a+=h.shift(),b="A",L=this.convertEndpointToCenterParameterization(S,q,e,a,D,I,B,k,C);break}t.push({command:b||g,points:L,start:{x:w,y:_},pathLength:this.calcLength(w,_,b||g,L)})}(g==="z"||g==="Z")&&t.push({command:"z",points:[],start:void 0,pathLength:0})}return t}static calcLength(i,n,f,r){var u,t,s,e,a=O;switch(f){case"L":return a.getLineLength(i,n,r[0],r[1]);case"C":for(u=0,t=a.getPointOnCubicBezier(0,i,n,r[0],r[1],r[2],r[3],r[4],r[5]),e=.01;e<=1;e+=.01)s=a.getPointOnCubicBezier(e,i,n,r[0],r[1],r[2],r[3],r[4],r[5]),u+=a.getLineLength(t.x,t.y,s.x,s.y),t=s;return u;case"Q":for(u=0,t=a.getPointOnQuadraticBezier(0,i,n,r[0],r[1],r[2],r[3]),e=.01;e<=1;e+=.01)s=a.getPointOnQuadraticBezier(e,i,n,r[0],r[1],r[2],r[3]),u+=a.getLineLength(t.x,t.y,s.x,s.y),t=s;return u;case"A":u=0;var v=r[4],l=r[5],c=r[4]+l,g=Math.PI/180;if(Math.abs(v-c)<g&&(g=Math.abs(v-c)),t=a.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],v,0),l<0)for(e=v-g;e>c;e-=g)s=a.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],e,0),u+=a.getLineLength(t.x,t.y,s.x,s.y),t=s;else for(e=v+g;e<c;e+=g)s=a.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],e,0),u+=a.getLineLength(t.x,t.y,s.x,s.y),t=s;return s=a.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],c,0),u+=a.getLineLength(t.x,t.y,s.x,s.y),u}return 0}static convertEndpointToCenterParameterization(i,n,f,r,u,t,s,e,a){var v=a*(Math.PI/180),l=Math.cos(v)*(i-f)/2+Math.sin(v)*(n-r)/2,c=-1*Math.sin(v)*(i-f)/2+Math.cos(v)*(n-r)/2,g=l*l/(s*s)+c*c/(e*e);g>1&&(s*=Math.sqrt(g),e*=Math.sqrt(g));var h=Math.sqrt((s*s*(e*e)-s*s*(c*c)-e*e*(l*l))/(s*s*(c*c)+e*e*(l*l)));u===t&&(h*=-1),isNaN(h)&&(h=0);var M=h*s*c/e,o=h*-e*l/s,Q=(i+f)/2+Math.cos(v)*M-Math.sin(v)*o,b=(n+r)/2+Math.sin(v)*M+Math.cos(v)*o,L=function(k){return Math.sqrt(k[0]*k[0]+k[1]*k[1])},w=function(k,C){return(k[0]*C[0]+k[1]*C[1])/(L(k)*L(C))},_=function(k,C){return(k[0]*C[1]<k[1]*C[0]?-1:1)*Math.acos(w(k,C))},A=_([1,0],[(l-M)/s,(c-o)/e]),E=[(l-M)/s,(c-o)/e],z=[(-1*l-M)/s,(-1*c-o)/e],B=_(E,z);return w(E,z)<=-1&&(B=Math.PI),w(E,z)>=1&&(B=0),t===0&&B>0&&(B=B-2*Math.PI),t===1&&B<0&&(B=B+2*Math.PI),[Q,b,s,e,A,B,v,t]}}O.prototype.className="Path",O.prototype._attrsAffectingSize=["data"],(0,G.DA)(O),U.F.addGetterSetter(O,"data")}}]);

//# sourceMappingURL=179c6018ca7.js.map