"use strict";(self.webpackChunkwebpack_web=self.webpackChunkwebpack_web||[]).push([[619],{8619:(Z,H,v)=>{v.d(H,{J:()=>k,b:()=>t});var E=v(5222),p=v(2923),e=v(3994),R=v(1384),d=v(2407),y=v(6014),b="hasShadow",m="shadowRGBA",L="patternImage",x="linearGradient",O="radialGradient";let F;function P(){return F||(F=p.Z.createCanvasElement().getContext("2d"),F)}const k={};function A(G){G.fill()}function M(G){G.stroke()}function I(G){G.fill()}function K(G){G.stroke()}function X(){this._clearCache(b)}function Y(){this._clearCache(m)}function W(){this._clearCache(L)}function T(){this._clearCache(x)}function B(){this._clearCache(O)}class t extends R.N{constructor(a){super(a);let i;for(;i=p.Z.getRandomColor(),!(i&&!(i in k)););this.colorKey=i,k[i]=this}getContext(){return p.Z.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return p.Z.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(b,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(L,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){var a=P();const i=a.createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(i&&i.setTransform){const o=new p.w;o.translate(this.fillPatternX(),this.fillPatternY()),o.rotate(E.So.getAngle(this.fillPatternRotation())),o.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),o.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const n=o.getMatrix(),r=typeof DOMMatrix=="undefined"?{a:n[0],b:n[1],c:n[2],d:n[3],e:n[4],f:n[5]}:new DOMMatrix(n);i.setTransform(r)}return i}}_getLinearGradient(){return this._getCache(x,this.__getLinearGradient)}__getLinearGradient(){var a=this.fillLinearGradientColorStops();if(a){for(var i=P(),o=this.fillLinearGradientStartPoint(),n=this.fillLinearGradientEndPoint(),r=i.createLinearGradient(o.x,o.y,n.x,n.y),s=0;s<a.length;s+=2)r.addColorStop(a[s],a[s+1]);return r}}_getRadialGradient(){return this._getCache(O,this.__getRadialGradient)}__getRadialGradient(){var a=this.fillRadialGradientColorStops();if(a){for(var i=P(),o=this.fillRadialGradientStartPoint(),n=this.fillRadialGradientEndPoint(),r=i.createRadialGradient(o.x,o.y,this.fillRadialGradientStartRadius(),n.x,n.y,this.fillRadialGradientEndRadius()),s=0;s<a.length;s+=2)r.addColorStop(a[s],a[s+1]);return r}}getShadowRGBA(){return this._getCache(m,this._getShadowRGBA)}_getShadowRGBA(){if(this.hasShadow()){var a=p.Z.colorToRGBA(this.shadowColor());return"rgba("+a.r+","+a.g+","+a.b+","+a.a*(this.shadowOpacity()||1)+")"}}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const a=this.hitStrokeWidth();return a==="auto"?this.hasStroke():this.strokeEnabled()&&!!a}intersects(a){var i=this.getStage(),o=i.bufferHitCanvas,n;return o.getContext().clear(),this.drawHit(o,null,!0),n=o.context.getImageData(Math.round(a.x),Math.round(a.y),1,1).data,n[3]>0}destroy(){return R.N.prototype.destroy.call(this),delete k[this.colorKey],delete this.colorKey,this}_useBufferCanvas(a){var i;if(!this.getStage()||!((i=this.attrs.perfectDrawEnabled)!==null&&i!==void 0?i:!0))return!1;const n=a||this.hasFill(),r=this.hasStroke(),s=this.getAbsoluteOpacity()!==1;if(n&&r&&s)return!0;const u=this.hasShadow(),g=this.shadowForStrokeEnabled();return!!(n&&r&&u&&g)}setStrokeHitEnabled(a){p.Z.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),a?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){var a=this.size();return{x:this._centroid?-a.width/2:0,y:this._centroid?-a.height/2:0,width:a.width,height:a.height}}getClientRect(a={}){const i=a.skipTransform,o=a.relativeTo,n=this.getSelfRect(),s=!a.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,u=n.width+s,g=n.height+s,f=!a.skipShadow&&this.hasShadow(),h=f?this.shadowOffsetX():0,c=f?this.shadowOffsetY():0,l=u+Math.abs(h),_=g+Math.abs(c),C=f&&this.shadowBlur()||0,S=l+C*2,w=_+C*2,D={width:S,height:w,x:-(s/2+C)+Math.min(h,0)+n.x,y:-(s/2+C)+Math.min(c,0)+n.y};return i?D:this._transformedRect(D,o)}drawScene(a,i){var o=this.getLayer(),n=a||o.getCanvas(),r=n.getContext(),s=this._getCanvasCache(),u=this.getSceneFunc(),g=this.hasShadow(),f,h,c,l=n.isCache,_=i===this;if(!this.isVisible()&&!_)return this;if(s){r.save();var C=this.getAbsoluteTransform(i).getMatrix();return r.transform(C[0],C[1],C[2],C[3],C[4],C[5]),this._drawCachedSceneCanvas(r),r.restore(),this}if(!u)return this;if(r.save(),this._useBufferCanvas()&&!l){f=this.getStage(),h=f.bufferCanvas,c=h.getContext(),c.clear(),c.save(),c._applyLineJoin(this);var S=this.getAbsoluteTransform(i).getMatrix();c.transform(S[0],S[1],S[2],S[3],S[4],S[5]),u.call(this,c,this),c.restore();var w=h.pixelRatio;g&&r._applyShadow(this),r._applyOpacity(this),r._applyGlobalCompositeOperation(this),r.drawImage(h._canvas,0,0,h.width/w,h.height/w)}else{if(r._applyLineJoin(this),!_){var S=this.getAbsoluteTransform(i).getMatrix();r.transform(S[0],S[1],S[2],S[3],S[4],S[5]),r._applyOpacity(this),r._applyGlobalCompositeOperation(this)}g&&r._applyShadow(this),u.call(this,r,this)}return r.restore(),this}drawHit(a,i,o=!1){if(!this.shouldDrawHit(i,o))return this;var n=this.getLayer(),r=a||n.hitCanvas,s=r&&r.getContext(),u=this.hitFunc()||this.sceneFunc(),g=this._getCanvasCache(),f=g&&g.hit;if(this.colorKey||p.Z.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),f){s.save();var h=this.getAbsoluteTransform(i).getMatrix();return s.transform(h[0],h[1],h[2],h[3],h[4],h[5]),this._drawCachedHitCanvas(s),s.restore(),this}if(!u)return this;if(s.save(),s._applyLineJoin(this),!(this===i)){var l=this.getAbsoluteTransform(i).getMatrix();s.transform(l[0],l[1],l[2],l[3],l[4],l[5])}return u.call(this,s,this),s.restore(),this}drawHitFromCache(a=0){var i=this._getCanvasCache(),o=this._getCachedSceneCanvas(),n=i.hit,r=n.getContext(),s=n.getWidth(),u=n.getHeight(),g,f,h,c,l,_;r.clear(),r.drawImage(o._canvas,0,0,s,u);try{for(g=r.getImageData(0,0,s,u),f=g.data,h=f.length,c=p.Z._hexToRgb(this.colorKey),l=0;l<h;l+=4)_=f[l+3],_>a?(f[l]=c.r,f[l+1]=c.g,f[l+2]=c.b,f[l+3]=255):f[l+3]=0;r.putImageData(g,0,0)}catch(C){p.Z.error("Unable to draw hit graph from cached scene canvas. "+C.message)}return this}hasPointerCapture(a){return y.q0(a,this)}setPointerCapture(a){y.I5(a,this)}releaseCapture(a){y.Xg(a,this)}}t.prototype._fillFunc=A,t.prototype._strokeFunc=M,t.prototype._fillFuncHit=I,t.prototype._strokeFuncHit=K,t.prototype._centroid=!1,t.prototype.nodeType="Shape",(0,E.DA)(t),t.prototype.eventListeners={},t.prototype.on.call(t.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",X),t.prototype.on.call(t.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",Y),t.prototype.on.call(t.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",W),t.prototype.on.call(t.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",T),t.prototype.on.call(t.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",B),e.F.addGetterSetter(t,"stroke",void 0,(0,d.if)()),e.F.addGetterSetter(t,"strokeWidth",2,(0,d.Kg)()),e.F.addGetterSetter(t,"fillAfterStrokeEnabled",!1),e.F.addGetterSetter(t,"hitStrokeWidth","auto",(0,d.hi)()),e.F.addGetterSetter(t,"strokeHitEnabled",!0,(0,d.I0)()),e.F.addGetterSetter(t,"perfectDrawEnabled",!0,(0,d.I0)()),e.F.addGetterSetter(t,"shadowForStrokeEnabled",!0,(0,d.I0)()),e.F.addGetterSetter(t,"lineJoin"),e.F.addGetterSetter(t,"lineCap"),e.F.addGetterSetter(t,"sceneFunc"),e.F.addGetterSetter(t,"hitFunc"),e.F.addGetterSetter(t,"dash"),e.F.addGetterSetter(t,"dashOffset",0,(0,d.Kg)()),e.F.addGetterSetter(t,"shadowColor",void 0,(0,d.sY)()),e.F.addGetterSetter(t,"shadowBlur",0,(0,d.Kg)()),e.F.addGetterSetter(t,"shadowOpacity",1,(0,d.Kg)()),e.F.addComponentsGetterSetter(t,"shadowOffset",["x","y"]),e.F.addGetterSetter(t,"shadowOffsetX",0,(0,d.Kg)()),e.F.addGetterSetter(t,"shadowOffsetY",0,(0,d.Kg)()),e.F.addGetterSetter(t,"fillPatternImage"),e.F.addGetterSetter(t,"fill",void 0,(0,d.if)()),e.F.addGetterSetter(t,"fillPatternX",0,(0,d.Kg)()),e.F.addGetterSetter(t,"fillPatternY",0,(0,d.Kg)()),e.F.addGetterSetter(t,"fillLinearGradientColorStops"),e.F.addGetterSetter(t,"strokeLinearGradientColorStops"),e.F.addGetterSetter(t,"fillRadialGradientStartRadius",0),e.F.addGetterSetter(t,"fillRadialGradientEndRadius",0),e.F.addGetterSetter(t,"fillRadialGradientColorStops"),e.F.addGetterSetter(t,"fillPatternRepeat","repeat"),e.F.addGetterSetter(t,"fillEnabled",!0),e.F.addGetterSetter(t,"strokeEnabled",!0),e.F.addGetterSetter(t,"shadowEnabled",!0),e.F.addGetterSetter(t,"dashEnabled",!0),e.F.addGetterSetter(t,"strokeScaleEnabled",!0),e.F.addGetterSetter(t,"fillPriority","color"),e.F.addComponentsGetterSetter(t,"fillPatternOffset",["x","y"]),e.F.addGetterSetter(t,"fillPatternOffsetX",0,(0,d.Kg)()),e.F.addGetterSetter(t,"fillPatternOffsetY",0,(0,d.Kg)()),e.F.addComponentsGetterSetter(t,"fillPatternScale",["x","y"]),e.F.addGetterSetter(t,"fillPatternScaleX",1,(0,d.Kg)()),e.F.addGetterSetter(t,"fillPatternScaleY",1,(0,d.Kg)()),e.F.addComponentsGetterSetter(t,"fillLinearGradientStartPoint",["x","y"]),e.F.addComponentsGetterSetter(t,"strokeLinearGradientStartPoint",["x","y"]),e.F.addGetterSetter(t,"fillLinearGradientStartPointX",0),e.F.addGetterSetter(t,"strokeLinearGradientStartPointX",0),e.F.addGetterSetter(t,"fillLinearGradientStartPointY",0),e.F.addGetterSetter(t,"strokeLinearGradientStartPointY",0),e.F.addComponentsGetterSetter(t,"fillLinearGradientEndPoint",["x","y"]),e.F.addComponentsGetterSetter(t,"strokeLinearGradientEndPoint",["x","y"]),e.F.addGetterSetter(t,"fillLinearGradientEndPointX",0),e.F.addGetterSetter(t,"strokeLinearGradientEndPointX",0),e.F.addGetterSetter(t,"fillLinearGradientEndPointY",0),e.F.addGetterSetter(t,"strokeLinearGradientEndPointY",0),e.F.addComponentsGetterSetter(t,"fillRadialGradientStartPoint",["x","y"]),e.F.addGetterSetter(t,"fillRadialGradientStartPointX",0),e.F.addGetterSetter(t,"fillRadialGradientStartPointY",0),e.F.addComponentsGetterSetter(t,"fillRadialGradientEndPoint",["x","y"]),e.F.addGetterSetter(t,"fillRadialGradientEndPointX",0),e.F.addGetterSetter(t,"fillRadialGradientEndPointY",0),e.F.addGetterSetter(t,"fillPatternRotation",0),e.F.backCompat(t,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})}}]);

//# sourceMappingURL=619c6018ca7.js.map